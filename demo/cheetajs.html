<!DOCTYPE html>
<html>
<head>
<script src="../src/cheeta.js"></script>
<style type="text/css">
div {
	margin-left: 10px;
}
</style>
</head>
<body data-eval.="root3.value = 99">
	<div data-bind.="root.child.value"></div>
	<div data-template.="template1" data-bind.="root1 as r; root3.child as c"></div>
	root1:
	<div data-bind.="root1; root3 as r3" data-eval.="root1.aa = 'xxxx'">
		<ul>		
			<li data-bind.="name in .array">
				<input type="text" data-bind.="name.value">
				<input type="text" data-bind.="r3.value">
			</li>
		</ul>
	
		root1.value: 
		<div data-bind.="root1.value"></div>
		.value: 
		<div data-bind.=".value"></div>
		.child: 
		<div data-bind.=".child">
			.value<input type='text' data-bind.=".value">
		</div>
		root1.child: 
		<div data-bind.="root1.child">
			.value<input type='text' data-bind.=".value">
		</div>
		root1.child: 
		<div data-bind.="root1.child">
			child.value<input type='text' data-bind.="child.value">
			root1.child.value<input type='text' data-bind.="root1.child.value">
		</div>
		root1.child: 
		<div data-bind.="root1.child">
			uchild.value<input type='text' data-bind.="uchild.value">
			.uchild.value<input type='text' data-bind.=".uchild.value">
			.vchild.value.a<input type='text' data-bind.=".vchild.value.a">
			vchild.value.a<input type='text' data-bind.="vchild.value.a">
		</div>
		root1.child as asChild; root2.child as asChild2: 
		<div data-bind.="root1.child as asChild; root2.child as asChild2">
			.value<input type='text' data-bind.=".value">
			asChild.value<input type='text' data-bind.="asChild.value">
			asChild2.value<input type='text' data-bind.="asChild2.value">
			.uchild.value<input type='text' data-bind.=".uchild.value">
			vchild.value.a<input type='text' data-bind.="vchild.value.a">
			root2.child.value<input type='text' data-bind.="root2.child.value">
			root2.value<input type='text' data-bind.="root2.value">
		</div>
		
	</div>
	root2
	<div data-bind.="root2">
		root2.value: 
		<div data-bind.="root2.value"></div>
		.child: 
		<div data-bind.=".child">
			.value<input type='text' data-bind.=".value">
		</div>
	</div>
	root3 as R
	<div data-bind.="root3 as R; root2 as R2">
		R.value: 
		<div data-bind.="R.value"></div>
		.value: 
		<div data-bind.=".value"></div>
		R.child: 
		<div data-bind.="R.child">
			R2.child.value<input type='text' data-bind.="R2.child.value">
			R.child.value<input type='text' data-bind.="R.child.value">
		</div>
		root1.child.value<input type='text' data-bind.="root1.child.value">
	</div>
	
	<script type="text/cj-template" id="template1">
		<div>TEMPLATE<div data-bind.="r.value">INNER TEMPLATE</div><div data-bind.="c.value"></div>
	</script>
	
	<script>
	setTimeout(function() {
		uchild.value = 8
		vchild.value.a = 7
		root2.child.value = 6
		root2.value = 5
		root1.child.vchild.value.a = 4
		root1.child.uchild.value = 3
		root1.child.value = 2
		root1.value = 1
		root3.value = 9
		root3.child.value = 10
		root1.array = [{value:1},{value:2},{value:3}];
		root.child.value = 11;
	}, 1000);
	$cheeta.location.watch(function(hash) {
		console.log('path is changed', hash);
	});
	$cheeta.location.watch('myName', function(val, oldVal) {
		console.log('name is changed', val, oldVal);
	});
	$cheeta.location.watch('myLastName', function(val, oldVal) {
		console.log('last name is changed', val, oldVal);
	});
	$cheeta.location.watch('test', function(val, oldVal) {
		console.log('test is changed', val, oldVal);
	});
	
	setTimeout(function() {
		window.location.hash = 'some/path/for/you';
	}, 2000);
	setTimeout(function() {
		window.location.hash = 'some/path/for/you&myName=Danial&myLastName=&test=2';
	}, 3000);
	setTimeout(function() {
		$cheeta.location.set('test', 5);
		$cheeta.location.set('myLastName', 'lll');
		$cheeta.location.set('another/path');
	}, 4000);
	</script>
</body>
</html>
